{"version":3,"file":"its-fine-0502800c.js","sources":["../../node_modules/its-fine/dist/index.js"],"sourcesContent":["import * as React from \"react\";\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nfunction traverseFiber(fiber, ascending, selector) {\n  if (!fiber)\n    return;\n  if (selector(fiber) === true)\n    return fiber;\n  let child = ascending ? fiber.return : fiber.child;\n  while (child) {\n    const match = traverseFiber(child, ascending, selector);\n    if (match)\n      return match;\n    child = ascending ? null : child.sibling;\n  }\n}\nfunction wrapContext(context) {\n  try {\n    return Object.defineProperties(context, {\n      _currentRenderer: {\n        get() {\n          return null;\n        },\n        set() {\n        }\n      },\n      _currentRenderer2: {\n        get() {\n          return null;\n        },\n        set() {\n        }\n      }\n    });\n  } catch (_) {\n    return context;\n  }\n}\nconst FiberContext = wrapContext(React.createContext(null));\nclass FiberProvider extends React.Component {\n  render() {\n    return /* @__PURE__ */ React.createElement(FiberContext.Provider, {\n      value: this._reactInternals\n    }, this.props.children);\n  }\n}\nconst { ReactCurrentOwner, ReactCurrentDispatcher } = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\nfunction useFiber() {\n  const root = React.useContext(FiberContext);\n  if (root === null)\n    throw new Error(\"its-fine: useFiber must be called within a <FiberProvider />!\");\n  const id = React.useId();\n  const fiber = React.useMemo(\n    () => {\n      var _a;\n      return (_a = ReactCurrentOwner == null ? void 0 : ReactCurrentOwner.current) != null ? _a : traverseFiber(root, false, (node) => {\n        let state = node.memoizedState;\n        while (state) {\n          if (state.memoizedState === id)\n            return true;\n          state = state.next;\n        }\n      });\n    },\n    [root, id]\n  );\n  return fiber;\n}\nfunction useContainer() {\n  const fiber = useFiber();\n  const root = React.useMemo(\n    () => traverseFiber(fiber, true, (node) => {\n      var _a;\n      return ((_a = node.stateNode) == null ? void 0 : _a.containerInfo) != null;\n    }),\n    [fiber]\n  );\n  return root == null ? void 0 : root.stateNode.containerInfo;\n}\nfunction useNearestChild(type) {\n  const fiber = useFiber();\n  const childRef = React.useRef();\n  React.useLayoutEffect(() => {\n    var _a;\n    childRef.current = (_a = traverseFiber(\n      fiber,\n      false,\n      (node) => typeof node.type === \"string\" && (type === void 0 || node.type === type)\n    )) == null ? void 0 : _a.stateNode;\n  }, [fiber]);\n  return childRef;\n}\nfunction useNearestParent(type) {\n  const fiber = useFiber();\n  const parentRef = React.useRef();\n  React.useLayoutEffect(() => {\n    var _a;\n    parentRef.current = (_a = traverseFiber(\n      fiber,\n      true,\n      (node) => typeof node.type === \"string\" && (type === void 0 || node.type === type)\n    )) == null ? void 0 : _a.stateNode;\n  }, [fiber]);\n  return parentRef;\n}\nfunction useContextMap() {\n  var _a, _b;\n  const fiber = useFiber();\n  const [contextMap] = React.useState(() => /* @__PURE__ */ new Map());\n  contextMap.clear();\n  let node = fiber;\n  while (node) {\n    const context = (_a = node.type) == null ? void 0 : _a._context;\n    if (context && context !== FiberContext && !contextMap.has(context)) {\n      contextMap.set(context, (_b = ReactCurrentDispatcher == null ? void 0 : ReactCurrentDispatcher.current) == null ? void 0 : _b.readContext(wrapContext(context)));\n    }\n    node = node.return;\n  }\n  return contextMap;\n}\nfunction useContextBridge() {\n  const contextMap = useContextMap();\n  return React.useMemo(\n    () => Array.from(contextMap.keys()).reduce(\n      (Prev, context) => (props) => /* @__PURE__ */ React.createElement(Prev, null, /* @__PURE__ */ React.createElement(context.Provider, __spreadProps(__spreadValues({}, props), {\n        value: contextMap.get(context)\n      }))),\n      (props) => /* @__PURE__ */ React.createElement(FiberProvider, __spreadValues({}, props))\n    ),\n    [contextMap]\n  );\n}\nexport {\n  FiberProvider,\n  traverseFiber,\n  useContainer,\n  useContextBridge,\n  useContextMap,\n  useFiber,\n  useNearestChild,\n  useNearestParent\n};\n//# sourceMappingURL=index.js.map\n"],"names":["__defProp","__defProps","__getOwnPropDescs","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","__defNormalProp","obj","key","value","__spreadValues","a","b","prop","__spreadProps","traverseFiber","fiber","ascending","selector","child","match","wrapContext","context","FiberContext","React.createContext","FiberProvider","React.Component","React.createElement","ReactCurrentOwner","ReactCurrentDispatcher","React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","useFiber","root","React.useContext","id","React.useId","React.useMemo","_a","node","state","useContextMap","_b","contextMap","React.useState","useContextBridge","Prev","props"],"mappings":"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","x_google_ignoreList":[0]}